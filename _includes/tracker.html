{%- comment -%}
  Generic tracker include.
  Configure in _config.yml under `tracking`:
    tracking:
      script_src: "https://example.com/tracker.js" # or an array of URLs
      async: true   # optional, default: true
      defer: false  # optional
      init: |
        // Optional inline init snippet for your tracker
        // e.g., window.myTracker('init', { siteId: '123' });

  Notes:
  - This file renders only in production (see head.html).
  - If you use external scripts or inline init, you likely need to extend
    the CSP via `csp_extra` in _config.yml (script-src/connect-src, etc.).
{%- endcomment -%}

{%- assign async_attr = site.tracking.async | default: true -%}
{%- assign defer_attr = site.tracking.defer | default: false -%}

{%- if site.tracking.script_src -%}
  {%- assign _srcs = site.tracking.script_src -%}
  {%- for s in _srcs -%}
<script async src="https://plausible.io/js/pa-OpLRUqU-eAWPy6_fvX79O.js"></script>
  {%- endfor -%}
{%- endif -%}

{%- if site.tracking.init -%}
<script>
  window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
  plausible.init()
</script>

{%- endif -%}
